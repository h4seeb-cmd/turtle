---
keywords: fastai
description: Demonstration of API Usage 
title: "API Demonstration"
toc: true
comments: true 
branch: master
badges: true
author: Haseeb Beg
categories: [fastpages, jupyter, Week 7]
permalink: /submenu2/APIUsage
nb_path: _notebooks/2022-10-09-API-usage.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-10-09-API-usage.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<table>
        <tbody>
    <tr>
        <td>
        <a href="{{site.baseurl}}/submenu/js-trial-and-error">JS Table</a>
        </td>
        <td>
        <a href="{{site.baseurl}}/submenu2/APIUsage">API Usage</a>
        </td>
        <td>
        <a href="#">Link 3</a>
        </td>
    </tr>
        </tbody>
</table>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://spotify23.p.rapidapi.com/search/&quot;</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;q&quot;</span><span class="p">:</span><span class="s2">&quot;&lt;REQUIRED&gt;&quot;</span><span class="p">,</span><span class="s2">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;multi&quot;</span><span class="p">,</span><span class="s2">&quot;offset&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="s2">&quot;limit&quot;</span><span class="p">:</span><span class="s2">&quot;10&quot;</span><span class="p">,</span><span class="s2">&quot;numberOfTopResults&quot;</span><span class="p">:</span><span class="s2">&quot;5&quot;</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
	<span class="s2">&quot;X-RapidAPI-Key&quot;</span><span class="p">:</span> <span class="s2">&quot;0588371053msha6940727d7c83aap107c98jsn19374300bf1d&quot;</span><span class="p">,</span>
	<span class="s2">&quot;X-RapidAPI-Host&quot;</span><span class="p">:</span> <span class="s2">&quot;spotify23.p.rapidapi.com&quot;</span>
<span class="p">}</span>

<span class="n">response1</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>



<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Albums&quot;</span><span class="p">)</span>
<span class="n">Music</span> <span class="o">=</span> <span class="n">response1</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;albums&quot;</span><span class="p">)</span>
<span class="n">Songs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">Music</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">Songs</span><span class="p">:</span>
	<span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Albums
totalCount 28
items [{&#39;data&#39;: {&#39;uri&#39;: &#39;spotify:album:1rVhockt4RAiZFaK3M3zPB&#39;, &#39;name&#39;: &#39;No Jacket Required (2016 Remaster)&#39;, &#39;artists&#39;: {&#39;items&#39;: [{&#39;uri&#39;: &#39;spotify:artist:4lxfqrEsLX6N1N4OCSkILp&#39;, &#39;profile&#39;: {&#39;name&#39;: &#39;Phil Collins&#39;}}]}, &#39;coverArt&#39;: {&#39;sources&#39;: [{&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d00001e0279553c4dcec1846d3a5c49ab&#39;, &#39;width&#39;: 300, &#39;height&#39;: 300}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d0000485179553c4dcec1846d3a5c49ab&#39;, &#39;width&#39;: 64, &#39;height&#39;: 64}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d0000b27379553c4dcec1846d3a5c49ab&#39;, &#39;width&#39;: 640, &#39;height&#39;: 640}]}, &#39;date&#39;: {&#39;year&#39;: 1985}}}, {&#39;data&#39;: {&#39;uri&#39;: &#39;spotify:album:7avlHipAwnKsxcXwC9Wpin&#39;, &#39;name&#39;: &#39;No Jacket Required (Deluxe Edition)&#39;, &#39;artists&#39;: {&#39;items&#39;: [{&#39;uri&#39;: &#39;spotify:artist:4lxfqrEsLX6N1N4OCSkILp&#39;, &#39;profile&#39;: {&#39;name&#39;: &#39;Phil Collins&#39;}}]}, &#39;coverArt&#39;: {&#39;sources&#39;: [{&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d00001e0257480be4ce4fd7659a25b7d9&#39;, &#39;width&#39;: 300, &#39;height&#39;: 300}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d0000485157480be4ce4fd7659a25b7d9&#39;, &#39;width&#39;: 64, &#39;height&#39;: 64}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d0000b27357480be4ce4fd7659a25b7d9&#39;, &#39;width&#39;: 640, &#39;height&#39;: 640}]}, &#39;date&#39;: {&#39;year&#39;: 1985}}}, {&#39;data&#39;: {&#39;uri&#39;: &#39;spotify:album:3JalRx7hoyAC7pyoc7aaw7&#39;, &#39;name&#39;: &#39;Some Assembly Required&#39;, &#39;artists&#39;: {&#39;items&#39;: [{&#39;uri&#39;: &#39;spotify:artist:1dwRnam2taNMv8H3VR6isd&#39;, &#39;profile&#39;: {&#39;name&#39;: &#39;Assembly of Dust&#39;}}]}, &#39;coverArt&#39;: {&#39;sources&#39;: [{&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d00001e023a08256fb7ce8a38b41ea5ff&#39;, &#39;width&#39;: 300, &#39;height&#39;: 300}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d000048513a08256fb7ce8a38b41ea5ff&#39;, &#39;width&#39;: 64, &#39;height&#39;: 64}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d0000b2733a08256fb7ce8a38b41ea5ff&#39;, &#39;width&#39;: 640, &#39;height&#39;: 640}]}, &#39;date&#39;: {&#39;year&#39;: 2009}}}, {&#39;data&#39;: {&#39;uri&#39;: &#39;spotify:album:5gxL1YPTDUtyUG2Qp3wVO0&#39;, &#39;name&#39;: &#39;Required Etiquette Vol. 1&#39;, &#39;artists&#39;: {&#39;items&#39;: [{&#39;uri&#39;: &#39;spotify:artist:0LyfQWJT6nXafLPZqxe9Of&#39;, &#39;profile&#39;: {&#39;name&#39;: &#39;Various Artists&#39;}}]}, &#39;coverArt&#39;: {&#39;sources&#39;: [{&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d00001e023f494786d82cc0f20a452dbe&#39;, &#39;width&#39;: 300, &#39;height&#39;: 300}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d000048513f494786d82cc0f20a452dbe&#39;, &#39;width&#39;: 64, &#39;height&#39;: 64}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d0000b2733f494786d82cc0f20a452dbe&#39;, &#39;width&#39;: 640, &#39;height&#39;: 640}]}, &#39;date&#39;: {&#39;year&#39;: 2014}}}, {&#39;data&#39;: {&#39;uri&#39;: &#39;spotify:album:53aQdegVPKq4MgSGgCQuLz&#39;, &#39;name&#39;: &#39;No Faith Required&#39;, &#39;artists&#39;: {&#39;items&#39;: [{&#39;uri&#39;: &#39;spotify:artist:4DMlDJn7CPSSS0DuUf1vrH&#39;, &#39;profile&#39;: {&#39;name&#39;: &#39;Snowy White&#39;}}, {&#39;uri&#39;: &#39;spotify:artist:5zRIFTHDQwGWKZ7z61fFKb&#39;, &#39;profile&#39;: {&#39;name&#39;: &#39;The White Flames&#39;}}]}, &#39;coverArt&#39;: {&#39;sources&#39;: [{&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d00001e02c3e11f275c54926f5bfcb411&#39;, &#39;width&#39;: 300, &#39;height&#39;: 300}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d00004851c3e11f275c54926f5bfcb411&#39;, &#39;width&#39;: 64, &#39;height&#39;: 64}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d0000b273c3e11f275c54926f5bfcb411&#39;, &#39;width&#39;: 640, &#39;height&#39;: 640}]}, &#39;date&#39;: {&#39;year&#39;: 1996}}}, {&#39;data&#39;: {&#39;uri&#39;: &#39;spotify:album:0BbeoTXqQv0qKki6CDcznI&#39;, &#39;name&#39;: &#39;Disassembly Required (Teaser Original Soundtrack)&#39;, &#39;artists&#39;: {&#39;items&#39;: [{&#39;uri&#39;: &#39;spotify:artist:0yXeAQirPMVzAlhxGvux1s&#39;, &#39;profile&#39;: {&#39;name&#39;: &#39;Liam Vickers&#39;}}]}, &#39;coverArt&#39;: {&#39;sources&#39;: [{&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d00001e0226cf2e2751ee0aec2cf62479&#39;, &#39;width&#39;: 300, &#39;height&#39;: 300}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d0000485126cf2e2751ee0aec2cf62479&#39;, &#39;width&#39;: 64, &#39;height&#39;: 64}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d0000b27326cf2e2751ee0aec2cf62479&#39;, &#39;width&#39;: 640, &#39;height&#39;: 640}]}, &#39;date&#39;: {&#39;year&#39;: 2021}}}, {&#39;data&#39;: {&#39;uri&#39;: &#39;spotify:album:1nYOe3S7pWbZwbzS92IScH&#39;, &#39;name&#39;: &#39;Required Repertoire for the 46th PTNA Piano Competition 2022, Vol. 1&#39;, &#39;artists&#39;: {&#39;items&#39;: [{&#39;uri&#39;: &#39;spotify:artist:0LyfQWJT6nXafLPZqxe9Of&#39;, &#39;profile&#39;: {&#39;name&#39;: &#39;Various Artists&#39;}}]}, &#39;coverArt&#39;: {&#39;sources&#39;: [{&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d00001e0258c6ffa1c61bed0f61ac1204&#39;, &#39;width&#39;: 300, &#39;height&#39;: 300}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d0000485158c6ffa1c61bed0f61ac1204&#39;, &#39;width&#39;: 64, &#39;height&#39;: 64}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d0000b27358c6ffa1c61bed0f61ac1204&#39;, &#39;width&#39;: 640, &#39;height&#39;: 640}]}, &#39;date&#39;: {&#39;year&#39;: 2022}}}, {&#39;data&#39;: {&#39;uri&#39;: &#39;spotify:album:3xEUUVwjNVvTaHQjcpea8O&#39;, &#39;name&#39;: &#39;Assembly Required&#39;, &#39;artists&#39;: {&#39;items&#39;: [{&#39;uri&#39;: &#39;spotify:artist:6ytGxUYeXamODJwiXuZvjO&#39;, &#39;profile&#39;: {&#39;name&#39;: &#39;Olivia Penalva&#39;}}]}, &#39;coverArt&#39;: {&#39;sources&#39;: [{&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d00001e02e098b0f0c819f5075263fd0c&#39;, &#39;width&#39;: 300, &#39;height&#39;: 300}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d00004851e098b0f0c819f5075263fd0c&#39;, &#39;width&#39;: 64, &#39;height&#39;: 64}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d0000b273e098b0f0c819f5075263fd0c&#39;, &#39;width&#39;: 640, &#39;height&#39;: 640}]}, &#39;date&#39;: {&#39;year&#39;: 2022}}}, {&#39;data&#39;: {&#39;uri&#39;: &#39;spotify:album:55bIeFDVLsLwa3WEnSJe0C&#39;, &#39;name&#39;: &#39;No Fantasy Required&#39;, &#39;artists&#39;: {&#39;items&#39;: [{&#39;uri&#39;: &#39;spotify:artist:5l9wiTZVfqQTfMDOt0HtwC&#39;, &#39;profile&#39;: {&#39;name&#39;: &#39;Tiga&#39;}}]}, &#39;coverArt&#39;: {&#39;sources&#39;: [{&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d00001e023542e4268c5a12d41a98b164&#39;, &#39;width&#39;: 300, &#39;height&#39;: 300}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d000048513542e4268c5a12d41a98b164&#39;, &#39;width&#39;: 64, &#39;height&#39;: 64}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d0000b2733542e4268c5a12d41a98b164&#39;, &#39;width&#39;: 640, &#39;height&#39;: 640}]}, &#39;date&#39;: {&#39;year&#39;: 2016}}}, {&#39;data&#39;: {&#39;uri&#39;: &#39;spotify:album:2ZNhj2qao5CEasrS2NH45J&#39;, &#39;name&#39;: &#39;No Assembly Required&#39;, &#39;artists&#39;: {&#39;items&#39;: [{&#39;uri&#39;: &#39;spotify:artist:70BRQ5tBte6kVqHviL3srE&#39;, &#39;profile&#39;: {&#39;name&#39;: &#39;Pieces Of A Dream&#39;}}]}, &#39;coverArt&#39;: {&#39;sources&#39;: [{&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d00001e0238b547096e33bf308c492a4b&#39;, &#39;width&#39;: 300, &#39;height&#39;: 300}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d0000485138b547096e33bf308c492a4b&#39;, &#39;width&#39;: 64, &#39;height&#39;: 64}, {&#39;url&#39;: &#39;https://i.scdn.co/image/ab67616d0000b27338b547096e33bf308c492a4b&#39;, &#39;width&#39;: 640, &#39;height&#39;: 640}]}, &#39;date&#39;: {&#39;year&#39;: 2004}}}]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">values</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://weatherbit-v1-mashape.p.rapidapi.com/current&quot;</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;lon&quot;</span><span class="p">:</span><span class="s2">&quot;-82.996216&quot;</span><span class="p">,</span><span class="s2">&quot;lat&quot;</span><span class="p">:</span><span class="s2">&quot;40.367474&quot;</span><span class="p">,</span><span class="s2">&quot;units&quot;</span><span class="p">:</span><span class="s2">&quot;imperial&quot;</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
	<span class="s2">&quot;X-RapidAPI-Key&quot;</span><span class="p">:</span> <span class="s2">&quot;0588371053msha6940727d7c83aap107c98jsn19374300bf1d&quot;</span><span class="p">,</span>
	<span class="s2">&quot;X-RapidAPI-Host&quot;</span><span class="p">:</span> <span class="s2">&quot;weatherbit-v1-mashape.p.rapidapi.com&quot;</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ohio Weather&quot;</span><span class="p">)</span>
<span class="n">weatherData</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">)</span>
<span class="n">OHweather</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">weatherData</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">OHweather</span><span class="p">:</span>
	<span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Ohio Weather
app_temp 70.4
aqi 46
city_name Kilbourne
clouds 7
country_code US
datetime 2022-10-11:20
dewpt 40.7
dhi 93.3
dni 784.3
elev_angle 29.6
ghi 474.34
gust 14.5
h_angle 45
lat 40.3675
lon -82.9962
ob_time 2022-10-11 20:30
pod d
precip 0
pres 988
rh 33
slp 1021.00433
snow 0
solar_rad 474.3
sources [&#39;rtma&#39;]
state_code OH
station G1320
sunrise 11:39
sunset 22:58
temp 72
timezone America/New_York
ts 1665520235
uv 3.0414183
vis 9.3
weather {&#39;code&#39;: 800, &#39;icon&#39;: &#39;c01d&#39;, &#39;description&#39;: &#39;Clear sky&#39;}
wind_cdir S
wind_cdir_full south
wind_dir 177
wind_spd 9.9
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

